(function(a){a.fn.agegate=function(c){var b=(typeof a.cookie!=="undefined");return this.each(function(){var k=a.extend({},a.fn.agegate.defaults,c);if(b&&a.cookie("age_gate")!==null){if(a.cookie("age_gate")==="underage"){k.underage();return}else{if(a.cookie("age_gate")==="legal"){k.legal();return}else{a.cookie("age_gate",null)}}}var g=a("<div/>").attr({id:k.container_id});var j=a("<strong/>").text(k.title);var e=a("<select/>").attr({id:"agegate-day",name:"agegate-day"}).append(function(){var m="";for(var l=1;l<32;l++){m+='<option value="'+l+'">'+l+"</option>"}return m});var i=a("<select/>").attr({id:"agegate-month",name:"agegate-month"}).append(function(){var l="";for(var m=0;m<12;m++){l+='<option value="'+m+'">'+k.month_names[m]+"</option>"}return l});var f=a("<select/>").attr({id:"agegate-year",name:"agegate-year"}).append(function(){var n="";var l=(new Date).getFullYear();for(var m=l;m>1900;m--){n+='<option value="'+m+'">'+m+"</option>"}return n});var h=a("<input/>").attr({type:"submit",id:"verify",name:"verify",value:k.verify_text,"class":k.verify_class});h.bind("click",function(){var m=new Date();m.setFullYear(a("#agegate-year").val(),a("#agegate-month").val(),a("#agegate-day").val());var l=new Date();l.setFullYear(l.getFullYear()-k.age);if((l-m)<0){k.underage();if(b){a.cookie("age_gate","underage")}}else{k.legal();if(b){a.cookie("age_gate","legal")}}});var d="<br/>";g.append(j).append(d+d).append(k.label_request).append(d+d).append(k.label_day).append(e).append(k.label_month).append(i).append(k.label_year).append(f).append(d).append(h);a(this).empty().append(g)})};a.fn.agegate.defaults={age:18,container_id:"age-gate",verify_text:"Verify",verify_class:"submit",title:"Age-Restricted",label_day:"Day:",label_month:"Month:",label_year:"Year:",label_request:"Please Enter Your Birthday:",month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],legal:function(){},underage:function(){}}})(jQuery);